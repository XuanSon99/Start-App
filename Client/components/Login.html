<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/style.css">
    <!-- <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css" /> -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Đăng nhập</title>
</head>

<body>
    <div class="login">
        <form>
            <input type="email" id="email" required placeholder="Email">
            <input type="password" id="password" required placeholder="Password">
            <input type="submit" value="Đăng nhập" onclick="loginHandle()">
        </form>
    </div>
    <script src="../../Server/database.js"></script>
    <script>
        let $ = require('jquery');
        const {ipcRenderer} = require('electron')
        let token = db.get("token").value()[0]
        if (token) {
            ipcRenderer.sendSync('entry-accepted', 'ping')
        }
        function validateEmail(email) {
            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }
        const loginHandle = () => {
            db.get('token').push("lala").write();
            // location.reload()


            //     let email = $('#email').val()
            //     let password = $('#password').val()
            //     if (!email || !password) {
            //         $('#errors').text("Vui lòng nhập đủ thông tin")
            //         return;
            //     }
            //     if (!validateEmail(email)) {
            //         $('#errors').text("Email không chính xác")
            //         return;
            //     }
            //     let data = {
            //         username: email,
            //         password: password
            //     }
            //     axios.post('http://quanli.mysong.vn/api/login-tool', data)
            //         .then(function (response) {
            //             console.log(response.data);
            //             if (response.data.status == true) {
            //                 location.reload()
            //                 db.get('token').remove().write();
            //                 db.get('token').push(response.data.token).write();
            //                 location.reload()
            //             } else {
            //                 $('#errors').text("Mật khẩu không chính xác")
            //             }
            //         })
        }
    </script>
</body>

</html>